webpackJsonp([44],{"IWI/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Gu7T"),n=a.n(r),s=a("1zv/"),i=a("fksm"),l={data:function(){return{selectCoinID:null,selectList:[],options:[],start_time:null,end_time:null,pageOptions:{per_page_num:10,page:1},totalCount:0,tableData:null}},created:function(){this.getSelectList()},methods:{handleSelect:function(){this.getmyAdList(),window.location.href=window.location.href.split("?")[0]+"?currency_id="+this.selectCoinID},handleRevoke:function(t){var e=this;this.$confirm(this.$t("add.cancleOrder"),this.$t("dialog.title"),{confirmButtonText:this.$t("dialog.sure"),cancelButtonText:this.$t("dialog.cancle"),type:"warning"}).then(function(){var a={currency_trade_id:e.$store.state.tradeDetail.trade_area_id,currency_id:e.selectCoinID,orders_id:t};Object(s.a)(a).then(function(t){if(1e3!==t.status)return e.$message.error(e.$t("myOrder.part12")),!1;e.$message.success(e.$t("myOrder.part13")),e.getmyAdList()}).catch(function(){})}).catch(function(){})},handSendAd:function(){this.$router.push({name:"release",query:{}})},handleSizeChange:function(t){this.pageOptions.page=t,this.getmyAdList()},handleCurrentChange:function(t){this.pageOptions.page=t,this.getmyAdList()},getSelectList:function(){var t=this;Object(i.a)().then(function(e){1e3!==e.status&&t.$message.error(e.msg),t.selectList=[].concat(n()(e.data.normal_currency)),t.$route.query.currency_id?t.selectCoinID=parseFloat(t.$route.query.currency_id):t.selectCoinID=t.selectList[0].currency_id,t.getmyAdList()}).catch(function(){})},filterTag:function(t,e){return e.trade_type===t},filterTag1:function(t,e){return e.status===t},filterHandler:function(t,e,a){return e[a.property]===t},getmyAdList:function(){var t=this,e={length:this.pageOptions.per_page_num,start:10*(this.pageOptions.page-1)};this.selectCoinID&&(e.currency_id=this.selectCoinID),e.trade_status=-2,this.start_time&&(e.start_time=Date.parse(this.start_time)/1e3),this.end_time&&(e.end_time=Date.parse(this.end_time)/1e3),Object(i.c)(e).then(function(e){1e3!==e.status&&t.$message.error(e.msg),t.tableData=[].concat(n()(e.data.order_list)),t.totalCount=e.recordsTotal}).catch(function(){})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-ad"},[a("div",{staticClass:"title clearfix"},[t._v("\n    "+t._s(t.$t("navBread.myOrder"))+":\n  ")]),t._v(" "),a("el-form",{staticClass:"order-search clearfix",attrs:{inline:!0}},[a("el-select",{staticClass:"coin",attrs:{placeholder:t.$t("myOrder.part2")},on:{change:t.handleSelect},model:{value:t.selectCoinID,callback:function(e){t.selectCoinID=e},expression:"selectCoinID"}},t._l(t.selectList,function(t){return a("el-option",{key:t.currency_id,attrs:{label:t.currency_mark,value:t.currency_id}})})),t._v(" "),a("div",{staticClass:"pull-right"},[a("el-form-item",[a("el-form-item",[a("el-date-picker",{staticClass:"time-input",attrs:{type:"date",placeholder:t.$t("queryByTime.beginPlaceorder")},model:{value:t.start_time,callback:function(e){t.start_time=e},expression:"start_time"}})],1),t._v(t._s(t.$t("queryByTime.to"))+"Â \n        "),a("el-form-item",[a("el-date-picker",{staticClass:"time-input",attrs:{type:"date",placeholder:t.$t("queryByTime.endPlaceorder")},model:{value:t.end_time,callback:function(e){t.end_time=e},expression:"end_time"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.getmyAdList}},[t._v(t._s(t.$t("queryByTime.query")))])],1)],1)],1),t._v(" "),a("el-table",{staticClass:"data-table",attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:t.$t("myOrder.part3"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"time",staticStyle:{color:"#a9afbb"}},[t._v(t._s(e.row.orders_time))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"trade_type",label:t.$t("myOrder.part4"),filters:[{text:t.$t("myOrder.part5"),value:"buy"},{text:t.$t("myOrder.part6"),value:"sell"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return["buy"==e.row.trade_type?a("span",{staticClass:"c-green"},[t._v(t._s(t.$t("myOrder.part5")))]):t._e(),t._v(" "),"sell"==e.row.trade_type?a("span",{staticClass:"c-red"},[t._v(t._s(t.$t("myOrder.part6")))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("myTrade.part1")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.trade_price)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("myTrade.part2")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.trade_total_num)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("myTrade.part3")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.trade_success_num)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("myTrade.part4")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.trade_faild_num)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:t.$t("myTrade.part5"),filters:[{text:t.$t("myTrade.part6"),value:1},{text:t.$t("myTrade.part7"),value:2},{text:t.$t("myTrade.part8"),value:-1},{text:t.$t("myTrade.part9"),value:0}],"filter-method":t.filterTag1,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.status?a("div",[t._v(t._s(t.$t("myTrade.part6")))]):t._e(),t._v(" "),"2"==e.row.status?a("div",[t._v(t._s(t.$t("myTrade.part7")))]):t._e(),t._v(" "),"-1"==e.row.status?a("div",[t._v(t._s(t.$t("myTrade.part8")))]):t._e(),t._v(" "),"0"==e.row.status?a("div",[t._v(t._s(t.$t("myTrade.part9")))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("myTrade.part11")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"swicth-btn"},[0==e.row.status||1==e.row.status?a("a",{staticClass:"cancel",attrs:{href:"javascript:void(0)"},on:{click:function(a){t.handleRevoke(e.row.orders_id)}}},[t._v(t._s(t.$t("myTrade.part10")))]):t._e()])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":t.pageOptions.page,"page-sizes":[10,20,30,40],"page-size":t.pageOptions.per_page_num,total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var o=a("VU/8")(l,c,!1,function(t){a("Q16D")},"data-v-78faa380",null);e.default=o.exports},Q16D:function(t,e){}});