webpackJsonp([12],{EMA3:function(e,t){},EbiU:function(e,t){},"K/9O":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("Dd8w"),i=r.n(s),n=r("qPjn"),o=r("mE7U"),a=r("UK/b"),l=r("vMJZ"),c=r("E4LH"),d=r("NC6I"),u=r.n(d),m={components:{StepsBar:n.a,Paybox:o.a},data:function(){var e=this;return{active:1,resetForm:{new_password:"",new_confirmpwd:""},link_userInfo:null,resetRules:{new_password:[{validator:function(t,r,s){""===r?s(new Error(e.$t("errorTips.withoutPwd"))):(Object(c.f)(r)||s(new Error(e.$t("errorTips.tradePwdError"))),Object(c.g)(r)||s(new Error(e.$t("tradePwd.part15"))),s())},trigger:"blur"}],new_confirmpwd:[{validator:function(t,r,s){""===r?s(new Error(e.$t("errorTips.surePwd"))):r!==e.resetForm.new_password?s(new Error(e.$t("errorTips.surePwdError"))):s()},trigger:"blur"}]},form:{sms_verify:"",identity_number:""},formRules:{sms_verify:[{required:!0,message:this.$t("errorTips.withoutVerifyCode"),trigger:"blur"}],identity_number:[{required:!0,message:this.$t("tradePwd.withoutNumber"),trigger:"blur"}]},validCode:!0,validTip:this.$t("verifyCode.title")}},computed:{tel:function(){var e=window.localStorage.getItem("link_userInfo");return(e=JSON.parse(e)).phone.substr(0,3)+"***"+e.phone.substr(-4,4)}},created:function(){},methods:{nextSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=i()({},t.form);r.check_options=2,Object(l.e)(r).then(function(e){if(1e3!==e.status)return t.$message.error(e.msg),!1;t.active++}).catch(function(){})})},handleCloseDialog:function(){this.$emit("closeDialog","centifyByNumberDialogVisible")},resetSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=i()({},t.resetForm);r.new_password=u()(r.new_password),r.new_confirmpwd=u()(r.new_confirmpwd),Object(l.s)(r).then(function(e){if(1e3!==e.status)return t.$message.error(e.msg),!1;t.active++}).catch(function(){})})},handleSendRequestSms:function(e){var t=this,r={};this.setTime(),this.link_userInfo=window.localStorage.getItem("link_userInfo"),this.link_userInfo=JSON.parse(this.link_userInfo),r.user_account=this.link_userInfo.phone,r.request_type="auth",Object(a.d)(r).then(function(e){if(1e3!==e.status)return t.$message.error(e.msg),!1}).catch(function(){})},setTime:function(){var e=this,t=60;if(this.validCode){this.validCode=!1;var r=setInterval(function(){t--,e.validTip=t+e.$t("verifyCode.second"),0===t&&(clearInterval(r),e.validTip=e.$t("verifyCode.getAgain"),e.validCode=!0)},1e3);return r}}}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mdphone container"},[r("router-link",{staticClass:"mdphone-user",attrs:{to:"/user/account",tag:"div"}},[e._v("<"+e._s(e.$t("navbar.user.navItem1")))]),e._v(" "),r("div",{staticClass:"content-title",attrs:{id:""}},[e._v(e._s(e.$t("tradePwd.part5")))]),e._v(" "),r("steps-bar",{staticClass:"steps-bar",attrs:{index:e.active,bgColor:"#0bc988",disableColor:"#e4e4ea",activeColor:"#0bc988"}}),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active == 1"}],ref:"form",staticClass:"mdphone-form",attrs:{model:e.form,rules:e.formRules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:e.$t("form.phone")}},[r("div",[e._v(e._s(e.tel))])]),e._v(" "),r("el-form-item",{staticClass:"verify",attrs:{label:e.$t("form.verifyCode"),prop:"sms_verify"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:e.$t("form.verifyCodePlaceholder")},model:{value:e.form.sms_verify,callback:function(t){e.$set(e.form,"sms_verify","string"==typeof t?t.trim():t)},expression:"form.sms_verify"}}),r("el-button",{staticClass:"get-verify",attrs:{disabled:!e.validCode},on:{click:function(t){e.handleSendRequestSms(t)}}},[e._v(e._s(e.validTip))])],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("centification.userInfo3"),prop:"identity_number"}},[r("el-input",{attrs:{placeholder:e.$t("centification.message3")},model:{value:e.form.identity_number,callback:function(t){e.$set(e.form,"identity_number","string"==typeof t?t.trim():t)},expression:"form.identity_number"}})],1),e._v(" "),r("div",{staticClass:"btn-group appeal-btn"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.nextSubmit("form")}}},[e._v(e._s(e.$t("tradePwd.part8")))])],1)],1),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:2==e.active,expression:"active == 2"}],ref:"resetForm",staticClass:"mdphone-form",attrs:{model:e.resetForm,rules:e.resetRules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:e.$t("tradePwd.part11"),prop:"new_password"}},[r("el-input",{attrs:{type:"password",placeholder:e.$t("tradePwd.part12")},model:{value:e.resetForm.new_password,callback:function(t){e.$set(e.resetForm,"new_password","string"==typeof t?t.trim():t)},expression:"resetForm.new_password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("tradePwd.part13"),prop:"new_confirmpwd"}},[r("el-input",{attrs:{type:"password",placeholder:e.$t("tradePwd.part14")},model:{value:e.resetForm.new_confirmpwd,callback:function(t){e.$set(e.resetForm,"new_confirmpwd","string"==typeof t?t.trim():t)},expression:"resetForm.new_confirmpwd"}})],1),e._v(" "),r("div",{staticClass:"btn-group appeal-btn"},[r("el-button",{staticStyle:{"margin-left":"150px"},attrs:{type:"primary"},on:{click:function(t){e.resetSubmit("resetForm")}}},[e._v(e._s(e.$t("dialog.submit")))])],1)],1),e._v(" "),3==e.active?r("div",{staticClass:"c-green centify-success"},[r("img",{attrs:{src:"static/images/right.png",alt:""}}),e._v(e._s(e.$t("tradePwd.part10")))]):e._e()],1)},staticRenderFns:[]};var p=r("VU/8")(m,f,!1,function(e){r("EbiU"),r("EMA3"),r("YSRn")},"data-v-4d13f306",null);t.default=p.exports},YSRn:function(e,t){}});
//# sourceMappingURL=12.af8275f84282d2403560.js.map