webpackJsonp([9],{GLR4:function(e,t){},NEYT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("Dd8w"),i=r.n(o),s=r("UK/b"),a=r("vMJZ"),n=r("E4LH"),l={props:["dialogVisible"],data:function(){var e=this;return{phoneForm:{sms_verify:"",user_account:"",card_num:"",require_type:2},phoneFormRules:{sms_verify:[{required:!0,message:this.$t("errorTips.withoutVerifyCode"),trigger:"blur"}],user_account:[{required:!0,validator:function(t,r,o){""===r?o(new Error(e.$t("errorTips.withoutEmail"))):Object(n.a)(r)?o():o(new Error(e.$t("errorTips.emailFormat")))},trigger:"blur"}],card_num:[{required:!0,message:this.$t("translateLang.user.text4"),trigger:"blur"}]},validCode:!0,validTip:this.$t("verifyCode.title")}},computed:{},created:function(){},methods:{handleCloseDialog:function(){this.$emit("closeDialog","modifyEmailDialogVisible")},phoneSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=i()({},t.phoneForm);Object(a.r)(r).then(function(e){if(1e3!==e.status)return t.$message.error(e.msg),!1;t.$message.success(t.$t("errorTips.emailModifySuccess")),t.$emit("getUserInfo"),t.handleCloseDialog()}).catch(function(){})})},handleSendRequestSms:function(e){var t=this;if(!this.phoneForm.user_account)return this.$message.error(this.$t("errorTips.noTradePwd")),!1;if(!Object(n.a)(this.phoneForm.user_account))return this.$message.error(this.$t("errorTips.withoutVerifyCode")),!1;var r={};this.setTime(),r.user_account=this.phoneForm.user_account,r.request_type="edit",Object(s.d)(r).then(function(e){if(1e3!==e.status)return t.$message.error(e.msg),!1}).catch(function(){})},setTime:function(){var e=60;if(this.validCode){this.validCode=!1;var t=this,r=setInterval(function(){e--,t.validTip=e+t.$t("verifyCode.second"),0===e&&(clearInterval(r),t.validTip=t.$t("verifyCode.getAgain"),t.validCode=!0)},1e3);return r}}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{staticClass:"mdphone-dialog",attrs:{title:e.$t("user.modifyEmailDialog.title"),visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.handleCloseDialog,width:"580px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"phoneForm",attrs:{model:e.phoneForm,rules:e.phoneFormRules,"label-width":"180px"}},[r("el-form-item",{attrs:{label:e.$t("translateLang.user.text2"),prop:"card_num"}},[r("el-input",{attrs:{placeholder:e.$t("translateLang.user.text3")},model:{value:e.phoneForm.card_num,callback:function(t){e.$set(e.phoneForm,"card_num","string"==typeof t?t.trim():t)},expression:"phoneForm.card_num"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("form.email"),prop:"user_account"}},[r("el-input",{attrs:{placeholder:e.$t("form.emailPlaceholder")},model:{value:e.phoneForm.user_account,callback:function(t){e.$set(e.phoneForm,"user_account","string"==typeof t?t.trim():t)},expression:"phoneForm.user_account"}})],1),e._v(" "),r("el-form-item",{staticClass:"verify",attrs:{label:e.$t("form.verifyCode"),prop:"sms_verify"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:e.$t("form.verifyCodePlaceholder")},model:{value:e.phoneForm.sms_verify,callback:function(t){e.$set(e.phoneForm,"sms_verify","string"==typeof t?t.trim():t)},expression:"phoneForm.sms_verify"}}),r("el-button",{staticClass:"get-verify",attrs:{disabled:!e.validCode},on:{click:function(t){e.handleSendRequestSms(t)}}},[e._v(e._s(e.validTip))])],1),e._v(" "),r("div",{staticClass:"btn-group appeal-btn"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.phoneSubmit("phoneForm")}}},[e._v(e._s(e.$t("dialog.modify")))])],1)],1)],1)},staticRenderFns:[]};var c=r("VU/8")(l,u,!1,function(e){r("gDPT"),r("akkr"),r("GLR4")},"data-v-7c7f36f0",null);t.default=c.exports},akkr:function(e,t){},gDPT:function(e,t){}});
//# sourceMappingURL=9.afb9f22d025407b460fc.js.map